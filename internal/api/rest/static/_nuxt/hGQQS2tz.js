import{u as V,a as $,_ as z}from"./DhQdksfa.js";import{_ as D}from"./lbA662FO.js";import{_ as O}from"./CpvovYk5.js";import{_ as j}from"./11PQt58c.js";import{_ as F}from"./Dvcp86dS.js";import{e as T,N as L,g as E,c as m,a as t,b as i,w as n,h as s,i as v,F as h,l as u,m as k,o as r,d as c,t as a,r as b,C as I}from"./C2I5neRf.js";import"./DqghtnId.js";import"./DlAUqK2U.js";const J={class:"space-y-6"},M={key:0,class:"flex items-center justify-center py-12"},G={class:"flex items-start justify-between"},P={class:"text-xl font-bold text-white"},R={class:"mt-1 text-gray-400"},q={class:"flex gap-2"},H={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},K={class:"mt-1 font-medium capitalize"},Q={class:"mt-1 font-medium"},W={class:"mt-1 font-medium"},X={class:"mt-1 font-medium"},Y={class:"mt-1"},Z={class:"mt-1 font-medium"},tt={class:"mt-1 font-mono text-sm"},et={class:"mt-1 font-medium"},st={class:"flex items-center justify-between"},ot={class:"space-y-1 font-mono text-sm"},nt={class:"flex items-start"},at={class:"text-gray-500 mr-3 select-none"},lt={class:"flex-1 min-w-0"},it={key:0,class:"text-blue-400"},rt={class:"text-yellow-400"},dt={class:"mt-1 text-gray-500 truncate"},mt={key:0},_t={key:1},ut={class:"space-y-2"},ct={class:"mr-3"},pt={class:"flex-1"},gt={class:"text-sm font-medium"},vt={class:"text-xs text-gray-500 mt-1"},yt={class:"p-4 rounded-lg bg-gray-800/50 overflow-auto text-sm text-gray-300"},St=T({__name:"[id]",setup(xt){const C=L(),N=V(),o=k(null),y=k(!0),p=k(null);E(async()=>{try{y.value=!0,p.value=null,o.value=await N.getCrash(C.params.id)}catch(_){p.value=_.message||"Failed to load crash"}finally{y.value=!1}});const w=_=>new Date(_).toLocaleString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),B=_=>{navigator.clipboard.writeText(_)};return(_,e)=>{const x=$,A=z,S=D,U=O,d=j,f=F;return r(),m("div",J,[t("div",null,[i(x,{icon:"i-heroicons-arrow-left",variant:"ghost",onClick:e[0]||(e[0]=l=>_.$router.back())},{default:n(()=>[...e[2]||(e[2]=[c(" Back ",-1)])]),_:1})]),s(y)?(r(),m("div",M,[i(A,{name:"i-heroicons-arrow-path",class:"w-8 h-8 animate-spin text-primary-500"})])):s(p)?(r(),v(S,{key:1,color:"red",title:s(p)},null,8,["title"])):s(o)?(r(),m(h,{key:2},[i(d,null,{default:n(()=>[t("div",G,[t("div",null,[t("h2",P,a(s(o).error_type),1),t("p",R,a(s(o).error_message),1)]),t("div",q,[i(U,{to:`/groups/${s(o).group_id}`},{default:n(()=>[i(x,{variant:"outline",icon:"i-heroicons-rectangle-stack"},{default:n(()=>[...e[3]||(e[3]=[c(" View Group ",-1)])]),_:1})]),_:1},8,["to"])])])]),_:1}),t("div",H,[i(d,null,{default:n(()=>[e[4]||(e[4]=t("div",{class:"text-sm text-gray-400"},"Platform",-1)),t("div",K,a(s(o).platform),1)]),_:1}),i(d,null,{default:n(()=>[e[5]||(e[5]=t("div",{class:"text-sm text-gray-400"},"App Version",-1)),t("div",Q,a(s(o).app_version),1)]),_:1}),i(d,null,{default:n(()=>[e[6]||(e[6]=t("div",{class:"text-sm text-gray-400"},"OS Version",-1)),t("div",W,a(s(o).os_version||"N/A"),1)]),_:1}),i(d,null,{default:n(()=>[e[7]||(e[7]=t("div",{class:"text-sm text-gray-400"},"Device",-1)),t("div",X,a(s(o).device_model||"N/A"),1)]),_:1}),i(d,null,{default:n(()=>[e[8]||(e[8]=t("div",{class:"text-sm text-gray-400"},"Environment",-1)),t("div",Y,[i(f,{color:s(o).environment==="production"?"red":s(o).environment==="staging"?"yellow":"gray"},{default:n(()=>[c(a(s(o).environment),1)]),_:1},8,["color"])])]),_:1}),i(d,null,{default:n(()=>[e[9]||(e[9]=t("div",{class:"text-sm text-gray-400"},"User ID",-1)),t("div",Z,a(s(o).user_id||"Anonymous"),1)]),_:1}),i(d,null,{default:n(()=>[e[10]||(e[10]=t("div",{class:"text-sm text-gray-400"},"Fingerprint",-1)),t("div",tt,a(s(o).fingerprint),1)]),_:1}),i(d,null,{default:n(()=>[e[11]||(e[11]=t("div",{class:"text-sm text-gray-400"},"Occurred At",-1)),t("div",et,a(w(s(o).created_at)),1)]),_:1})]),i(d,null,{header:n(()=>[t("div",st,[e[13]||(e[13]=t("h3",{class:"text-lg font-semibold"},"Stack Trace",-1)),i(x,{icon:"i-heroicons-clipboard-document",variant:"ghost",size:"sm",onClick:e[1]||(e[1]=l=>B(JSON.stringify(s(o).stack_trace,null,2)))},{default:n(()=>[...e[12]||(e[12]=[c(" Copy ",-1)])]),_:1})])]),default:n(()=>[t("div",ot,[(r(!0),m(h,null,b(s(o).stack_trace,(l,g)=>(r(),m("div",{key:g,class:I(["p-3 rounded-lg",l.native?"bg-gray-800/30 text-gray-500":"bg-gray-800/50 text-gray-300"])},[t("div",nt,[t("span",at,"#"+a(g),1),t("div",lt,[l.class_name?(r(),m("span",it,a(l.class_name)+".",1)):u("",!0),t("span",rt,a(l.method_name),1),t("div",dt,[c(a(l.file_name)+" ",1),l.line_number?(r(),m("span",mt,":"+a(l.line_number),1)):u("",!0),l.column_number?(r(),m("span",_t,":"+a(l.column_number),1)):u("",!0)])]),l.native?(r(),v(f,{key:0,color:"gray",size:"xs"},{default:n(()=>[...e[14]||(e[14]=[c("native",-1)])]),_:1})):u("",!0)])],2))),128))])]),_:1}),s(o).breadcrumbs?.length?(r(),v(d,{key:0},{header:n(()=>[...e[15]||(e[15]=[t("h3",{class:"text-lg font-semibold"},"Breadcrumbs",-1)])]),default:n(()=>[t("div",ut,[(r(!0),m(h,null,b(s(o).breadcrumbs,(l,g)=>(r(),m("div",{key:g,class:"flex items-start p-3 rounded-lg bg-gray-800/50"},[t("div",ct,[i(f,{color:l.level==="error"?"red":l.level==="warning"?"yellow":"gray",size:"xs"},{default:n(()=>[c(a(l.type),1)]),_:2},1032,["color"])]),t("div",pt,[t("div",gt,a(l.message),1),t("div",vt,a(l.category)+" Â· "+a(w(l.timestamp)),1)])]))),128))])]),_:1})):u("",!0),s(o).metadata&&Object.keys(s(o).metadata).length?(r(),v(d,{key:1},{header:n(()=>[...e[16]||(e[16]=[t("h3",{class:"text-lg font-semibold"},"Metadata",-1)])]),default:n(()=>[t("pre",yt,a(JSON.stringify(s(o).metadata,null,2)),1)]),_:1})):u("",!0)],64)):u("",!0)])}}});export{St as default};
